(this["webpackJsonprick-and-morty"]=this["webpackJsonprick-and-morty"]||[]).push([[0],{51:function(e,a,t){"use strict";t.r(a);var r=t(17),n=t.n(r),c=t(9),i=t(19),s="app/setCharacters",o="app/setRequestedCharacters",l="app/setRemovedCharacters",d="app/setPartyCharacters",u="app/setPartyCharacterBlocks",m="app/setQueryName",p="app/setSearchValue",h="app/setLoading",f="app/setBadSearch",j="app/setError",y="app/setErrorData",b=Object(i.b)({characters:[],requestedCharacters:[],removedCharacters:[],partyCharacters:[],partyCharacterBlocks:["Rick","Morty"],queryName:null,searchValue:"",isLoading:!1,isBadSearch:!1,error:null,errorData:null},(function(e){e.addCase(s,(function(e,a){e.characters=a.payload})).addCase(o,(function(e,a){e.requestedCharacters=a.payload})).addCase(l,(function(e,a){e.removedCharacters=a.payload})).addCase(d,(function(e,a){e.partyCharacters=a.payload})).addCase(u,(function(e,a){e.partyCharacterBlocks=a.payload})).addCase(m,(function(e,a){e.queryName=a.payload})).addCase(p,(function(e,a){e.searchValue=a.payload})).addCase(h,(function(e,a){e.isBadSearch=a.payload})).addCase(f,(function(e,a){e.isBadSearch=a.payload})).addCase(j,(function(e,a){e.error=a.payload})).addCase(y,(function(e,a){e.errorData=a.payload})).addDefaultCase((function(){}))})),g=t(56),v=t(2),C=function(e){return{type:s,payload:e}},O=function(e){return{type:l,payload:e}},k=function(e){return{type:d,payload:e}},_=function(e){return{type:m,payload:e}},N=function(e){return{type:p,payload:e}},x=function(e){return{type:p,payload:e}},S=function(e){return{type:f,payload:e}},D=function(e){return{type:y,payload:e}},B=t(36),q=t(57),L={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"characters"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"filter"}},type:{kind:"NamedType",name:{kind:"Name",value:"FilterCharacter"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"characters"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"Variable",name:{kind:"Name",value:"filter"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"results"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:134,source:{body:"query characters($filter: FilterCharacter){\n  characters(filter: $filter) {\n    results {\n      name\n      image\n      id\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},F=t(3),w=function(){var e=function(){var e=Object(q.a)(L),a=Object(B.a)(e,2),t=a[0],r=a[1],n=r.loading,c=r.error,i=r.data;return{getCharacters:t,loading:n,error:c,characters:i&&i.characters.results}}(),a=e.getCharacters,t=e.loading,r=e.error,n=e.characters,i=Object(c.c)((function(e){return e})).queryName,s=Object(c.b)(),o=Object(v.useRef)(null);return Object(F.jsx)("section",{className:"game__data data",children:Object(F.jsx)("form",{onChange:function(e){e.preventDefault();var c,l=o.current&&o.current.value,d=l&&(c=l).charAt(0).toUpperCase()+c.toLowerCase().slice(1);d&&s(N(d)),l&&l.length>=2&&(!function(){var e=i&&i.toLowerCase();a({variables:{filter:{name:e}}})}(),s(C(n))),r&&s(S(!0))&&s(D(r.message)),!r&&s(S(!1)),t&&s(x(!0)),!t&&s(x(!1)),s(_(d))},onSubmit:function(e){return e.preventDefault()},className:"data__form",action:"#",method:"post",children:Object(F.jsx)("input",{ref:o,className:"data__input",type:"text",placeholder:"Enter name of character"})})})},R=function(e){var a=e.characters,t=e.character,r=Object(c.c)((function(e){return e})),n=r.partyCharacters,i=r.removedCharacters,s=Object(c.b)(),o=i.slice(),l=function(e){var a=n.slice(),r=t.name.split(" ").filter((function(e){return"Rick"===e||"Morty"===e})).toString(),c=a[0]?a[a.length-1].name.split(" "):null,i=c&&c.includes(r),o=e.target;if("IMG"===o.tagName||"LI"===o.tagName){if(a.push(t),i)return a.splice(a.length-2,1),void s(k(a));if(a.length>2)return a.splice(0,1),void s(k(a));s(k(a))}};return Object(F.jsxs)("li",{onClick:l,onKeyPress:function(e){"Enter"===e.key&&l(e)},className:"content__item game__item",tabIndex:0,role:"presentation",children:[Object(F.jsx)("button",{onClick:function(){var e=a.filter((function(e){return e!==t}));o.push(t),s(C(e)),s(O(o))},className:"content__close-button","aria-label":"choose character for party",type:"button"}),Object(F.jsx)("img",{className:"content__img game__img",src:t.image,alt:t.name})]})},V=function(e){var a=e.errorData;return Object(F.jsx)("div",{className:"error",children:Object(F.jsxs)("p",{className:"error__data",children:[a,". Please try again."]})})},E=function(){var e=Object(c.c)((function(e){return e})),a=e.characters,t=e.removedCharacters,r=e.isBadSearch,n=e.errorData,i=e.isLoading,s=t.map((function(e){return e.name})),o=a&&a.filter((function(e){return!s.includes(e.name)}));return Object(F.jsx)("section",{className:"game__content content",children:Object(F.jsxs)("ul",{className:"content__list",children:[i&&Object(F.jsx)("h3",{children:"Loading.."}),r&&Object(F.jsx)("h3",{children:"No results for this search"}),r&&Object(F.jsx)(V,{errorData:n}),o&&o.map((function(e){return Object(F.jsx)(R,{characters:a,character:e},e.id)}))]})})},P=function(e){var a=e.partyCharacter,t=e.partyCharacterBlockName;return Object(F.jsxs)("li",{className:"party__item game__item",children:[a&&Object(F.jsx)("img",{className:"party__img game__img",src:a.image,alt:a.name}),Object(F.jsx)("p",{className:"party__name",children:t})]})},I=function(){var e=Object(c.c)((function(e){return e})),a=e.partyCharacters,t=e.partyCharacterBlocks;return Object(F.jsxs)("section",{className:"game__party party",children:[Object(F.jsx)("h2",{className:"party__caption",children:"Party"}),Object(F.jsx)("ul",{className:"party__list",children:t.map((function(e,t){return Object(F.jsx)(P,{partyCharacterBlockName:e,partyCharacter:a.filter((function(a){return a.name.includes(e)}))[0]},e)}))})]})},M=function(){return Object(F.jsxs)("article",{className:"game",children:[Object(F.jsx)(w,{}),Object(F.jsx)(E,{}),Object(F.jsx)(I,{})]})},A=new(t(35).a)({uri:"https://rickandmortyapi.com/graphql"}),G=function(){return Object(F.jsxs)(g.a,{client:A,children:[Object(F.jsx)("h1",{children:"Rick & Morty"}),Object(F.jsx)(M,{})]})},J=Object(i.a)({reducer:b,middleware:function(e){return e().concat()}});n.a.render(Object(F.jsxs)(c.a,{store:J,children:[Object(F.jsx)(G,{}),","]}),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.d9d1f25c.chunk.js.map